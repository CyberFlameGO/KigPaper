From c37cef7c930e249f8a0bdc44ed789cb648ba880d Mon Sep 17 00:00:00 2001
From: RoccoDev <hey@rocco.dev>
Date: Thu, 5 Aug 2021 06:39:40 +0200
Subject: [PATCH] Add Player invulnerability API


diff --git a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
index 9cc7c3a4..45b64e65 100644
--- a/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
+++ b/src/main/java/org/bukkit/craftbukkit/entity/CraftPlayer.java
@@ -343,6 +343,18 @@ public class CraftPlayer extends CraftHumanEntity implements Player {
     public void registerPluginChannel(String channel) {
         addChannel(channel);
     }
+
+    @Override
+    public void setInvulnerable(boolean invulnerable) {
+        boolean changed = invulnerable != getHandle().abilities.isInvulnerable;
+        getHandle().abilities.isInvulnerable = invulnerable;
+        if (changed) getHandle().updateAbilities();
+    }
+
+    @Override
+    public boolean isInvulnerable() {
+        return getHandle().abilities.isInvulnerable;
+    }
     // KigPaper end
 
     @Override
-- 
2.31.1

